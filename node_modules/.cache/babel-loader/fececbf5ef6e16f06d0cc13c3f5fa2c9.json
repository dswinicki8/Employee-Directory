{"ast":null,"code":"import _toConsumableArray from\"/Users/drewswinicki/Desktop/bootcamp/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/drewswinicki/Desktop/bootcamp/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/drewswinicki/Desktop/bootcamp/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/drewswinicki/Desktop/bootcamp/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/drewswinicki/Desktop/bootcamp/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/drewswinicki/Desktop/bootcamp/Homework/Employee-Directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import SearchForm from\"./searchForm\";import Employee from\"./employee\";import API from\"../utils/API\";var SearchEmployee=/*#__PURE__*/function(_Component){_inherits(SearchEmployee,_Component);var _super=_createSuper(SearchEmployee);function SearchEmployee(){var _this;_classCallCheck(this,SearchEmployee);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={result:[],filter:\"\",filterBy:\"lastName\",currentSort:\"default\",sortField:\"\"};_this.filterEmployees=function(searchkey){console.log(searchkey);console.log(_this.state.result);var filterResult=_this.state.result.filter(function(person){return person.firstName===searchkey;});_this.setState({result:filterResult});};_this.handleFormSubmit=function(event){event.preventDefault();var value=event.target.value;var name=event.target.name;console.log(value,name);_this.filterEmployees(value);_this.setState(_defineProperty({},name,value));_this.filterEmployees(value);_this.filterEmployees(_this.state.search);};_this.handleInputChange=function(event){event.preventDefault();console.log(event);var value=event.target.value;var name=event.target.name;console.log(value,name);_this.setState(_defineProperty({},name,value));};return _this;}_createClass(SearchEmployee,[{key:\"componentDidMount\",//When components mounts, API call is envoked//\nvalue:function componentDidMount(){var _this2=this;API.search().then(function(res){console.log(res);_this2.setState({result:res.data.results.map(function(e,i){return{firstName:e.name.first,lastName:e.name.last,picture:e.picture.large,email:e.email,phone:e.phone,dob:e.age,key:i};})});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Employee Directory\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(SearchForm,{value:this.state.search,handleInputChange:this.handleInputChange,handleFormSubmit:this.handleFormSubmit}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Photo\"),/*#__PURE__*/React.createElement(\"th\",null,\"First Name\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Last Name \"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Email\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Phone\")),_toConsumableArray(this.state.result).map(function(item){return/*#__PURE__*/React.createElement(Employee,{picture:item.picture,firstName:item.firstName,lastName:item.lastName,email:item.email,phone:item.phone,key:item.key});}))));}}]);return SearchEmployee;}(Component);export default SearchEmployee;","map":{"version":3,"sources":["/Users/drewswinicki/Desktop/bootcamp/Homework/Employee-Directory/src/components/searchEmployee.js"],"names":["React","Component","SearchForm","Employee","API","SearchEmployee","state","result","filter","filterBy","currentSort","sortField","filterEmployees","searchkey","console","log","filterResult","person","firstName","setState","handleFormSubmit","event","preventDefault","value","target","name","search","handleInputChange","then","res","data","results","map","e","i","first","lastName","last","picture","large","email","phone","dob","age","key","catch","err","item"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport SearchForm from \"./searchForm\";\nimport Employee from \"./employee\";\nimport API from \"../utils/API\";\n\n\n\nclass SearchEmployee extends Component {\n  state = {\n    result: [],\n    filter: \"\",\n    filterBy: \"lastName\",\n    currentSort: \"default\",\n    sortField: \"\",\n  };\n\n  //When components mounts, API call is envoked//\n  componentDidMount() {\n    API.search()\n      .then((res) => {\n        console.log(res);\n        this.setState({\n          result: res.data.results.map((e, i) => ({\n            firstName: e.name.first,\n            lastName: e.name.last,\n            picture: e.picture.large,\n            email: e.email,\n            phone: e.phone,\n            dob: e.age,\n            key: i,\n          })),\n        });\n      })\n      .catch((err) => console.log(err));\n  }\n\n  filterEmployees = (searchkey) => {\n    console.log(searchkey);\n    console.log(this.state.result);\n\n    var filterResult = this.state.result.filter(\n      (person) => person.firstName === searchkey\n    );\n\n    this.setState({\n      result: filterResult,\n    });\n  };\n\n  //Form submit///\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    const value = event.target.value;\n    const name = event.target.name;\n\n    console.log(value, name);\n\n    this.filterEmployees(value);\n    this.setState({\n      [name]: value,\n    });\n    this.filterEmployees(value);\n    this.filterEmployees(this.state.search);\n  };\n\n\n///form input change///\n  handleInputChange = (event) => {\n    event.preventDefault();\n    console.log(event);\n    const value = event.target.value;\n    const name = event.target.name;\n\n    console.log(value, name);\n\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <h2>Employee Directory</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <SearchForm\n              value={this.state.search}\n              handleInputChange={this.handleInputChange}\n              handleFormSubmit={this.handleFormSubmit}\n            />\n          </div>\n        </div>\n\n        <div className=\"row\">\n          <table className=\"table\">\n            <tr>\n              <th scope=\"col\">Photo</th>\n              <th>First Name</th>\n              <th scope=\"col\">Last Name </th>\n              <th scope=\"col\">Email</th>\n              <th scope=\"col\">Phone</th>\n            </tr>\n\n            {[...this.state.result].map((item) => (\n              <Employee\n                picture={item.picture}\n                firstName={item.firstName}\n                lastName={item.lastName}\n                email={item.email}\n                phone={item.phone}\n                key={item.key}\n              />\n            ))}\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\nexport default SearchEmployee;\n"]},"metadata":{},"sourceType":"module"}